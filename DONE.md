# ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û: –°–∏—Å—Ç–µ–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Shield

## –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

**–ó–∞–¥–∞—á–∞:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å MySQL –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –≤–∫–ª—é—á–∞—è –º–Ω–æ–≥–æ–ø–æ—Ä—Ç–æ–≤—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–û

**–î–∞—Ç–∞:** 18 –Ω–æ—è–±—Ä—è 2025

## –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

### üìÅ 11 –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

#### –ö–æ–¥ (4 —Ñ–∞–π–ª–∞, ~1200 —Å—Ç—Ä–æ–∫)
1. `internal/database/database.go` - MySQL CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
2. `internal/auth/auth.go` - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (bcrypt, —Ç–æ–∫–µ–Ω—ã)
3. `internal/api/auth_handlers.go` - API –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
4. `internal/api/project_handlers.go` - API –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤

#### SQL (1 —Ñ–∞–π–ª)
5. `database_setup.sql` - –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (5 —Ñ–∞–π–ª–æ–≤)
6. `AUTH_GUIDE.md` - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ API (431 —Å—Ç—Ä–æ–∫–∞)
7. `INSTALL.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ (178 —Å—Ç—Ä–æ–∫)
8. `CHANGELOG.md` - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
9. `README_AUTH.md` - –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã
10. `CHEATSHEET.md` - –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

#### –¢–µ—Å—Ç—ã (1 —Ñ–∞–π–ª)
11. `test_api.sh` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- Bcrypt —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- Token-based –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –°–µ—Å—Å–∏–∏ –Ω–∞ 30 –¥–Ω–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–µ–∫—à–∏—Ö —Å–µ—Å—Å–∏–π

### ‚úÖ API (13 endpoints)
- 4 –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- 5 –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤
- 2 –¥–ª—è –±—ç–∫–µ–Ω–¥–æ–≤
- 2 –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤

### ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (5 —Ç–∞–±–ª–∏—Ü)
- users - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- projects - –ø—Ä–æ–µ–∫—Ç—ã —Å Shield ID
- backends - —Å–µ—Ä–≤–µ—Ä—ã
- sessions - —Ç–æ–∫–µ–Ω—ã
- project_stats - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### ‚úÖ –ú–Ω–æ–≥–æ–ø–æ—Ä—Ç–æ–≤–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤
- –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ Shield ID: `abc123.mangoprotect.fun`
- –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç: `connect.mangoprotect.fun:25601`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ CNAME

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MySQL
brew install mysql && brew services start mysql

# 2. –°–æ–∑–¥–∞–Ω–∏–µ –ë–î
mysql -u root -p < database_setup.sql

# 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ config.yaml)
vim config.yaml  # –∏–∑–º–µ–Ω–∏—Ç–µ database.password

# 4. –ó–∞–ø—É—Å–∫
go mod tidy && make build && ./run.sh

# 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
./test_api.sh
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
curl -X POST http://localhost:8080/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"email":"user@test.com","password":"pass123","name":"User"}'

# –í—Ö–æ–¥ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
TOKEN=$(curl -s -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"user@test.com","password":"pass123"}' \
  | jq -r '.data.token')

# –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
curl -X POST http://localhost:8080/api/projects/create \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"name":"My Server"}'

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±—ç–∫–µ–Ω–¥–∞
curl -X POST http://localhost:8080/api/backends/add \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"project_id":1,"ip":"127.0.0.1","port":25565}'
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ Bcrypt –¥–ª—è –ø–∞—Ä–æ–ª–µ–π (cost=10)  
‚úÖ Crypto/rand –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ (64 —Å–∏–º–≤–æ–ª–∞ hex)  
‚úÖ SQL prepared statements  
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏  
‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏  

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

üìñ **AUTH_GUIDE.md** - –ü–æ–ª–Ω–æ–µ API —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ  
üìñ **INSTALL.md** - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞  
üìñ **CHEATSHEET.md** - –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã  
üìñ **CHANGELOG.md** - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π  

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Go 1.25
- MySQL 8.0+
- Bcrypt
- REST API
- HAProxy

## –ü—Ä–æ–≤–µ—Ä–∫–∞

‚úÖ –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫  
‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã  
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏  
‚úÖ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç  
‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç  
‚úÖ –ü—Ä–æ–µ–∫—Ç—ã –∏ –±—ç–∫–µ–Ω–¥—ã —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è  
‚úÖ –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞  

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å MySQL
2. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å database_setup.sql
3. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å config.yaml
4. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
5. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ test_api.sh

---

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**

–í—Å–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞–ø–∏—Å–∞–Ω–∞, —Ç–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç.

